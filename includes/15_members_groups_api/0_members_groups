<h1 id="members-groups-api"><a name="members-groups"></a> Members Groups API</h1>

<aside class="warning">
This API is in development. Therefore, it may not be ready for use and is a subject to change at any time.
</aside>

<p>Members may be grouped into groups. It&rsquo;s up to API client / customer how they are utilized. </p>

<h2 id="introduction"><a name="members-groups-introduction"></a> Introduction</h2>

<h3 id="automatic-groups"><a name="automatic-members-groups"></a> Automatic groups</h3>

<p>Group is automatic (and has <code class="prettyprint">&quot;automatic&quot;: true</code> attribute ) when it has been created with <code class="prettyprint">audience_id</code> or 
<code class="prettyprint">audience_conditions</code> param.</p>

<p>Automatic group doesn&rsquo;t allow API client to manually manage its members - instead, those are fetched from the given audience.</p>

<p>See more <a href="#members-groups-create">here</a></p>

<h3 id="system-groups">System groups</h3>

<p>System groups (with <code class="prettyprint">&quot;system&quot;: true</code> attribute) are created automatically by system and are not editable
by API client - only MPC system can create, edit and destroy system groups.</p>

<p>The set of system groups present in given Loyalty Club depends on its configuration. An example of system group could be
&ldquo;All members&rdquo; group that would contain all Loyalty Club members.</p>

<h3 id="membersgroup-model"><a name="members-group-model"></a> MembersGroup model</h3>

<blockquote>
<p>JSON example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6813</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Color"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lorem ipsum dolor est"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"automatic"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"system"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"audience_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">351</span><span class="p">,</span><span class="w">
    </span><span class="s2">"audience_conditions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"array"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"members_group_ids"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">6813</span><span class="p">],</span><span class="w">
            </span><span class="s2">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"any"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"condition_group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"member_properties"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"members_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>no</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>yes</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>yes</td>
<td>Types are not predefined. It&rsquo;s up to API client to define them.</td>
</tr>
<tr>
<td>automatic</td>
<td>boolean</td>
<td>no</td>
<td>Is the group automatic?</td>
</tr>
<tr>
<td>system</td>
<td>boolean</td>
<td>no</td>
<td>Is the group system group?</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>yes</td>
<td></td>
</tr>
<tr>
<td>members_count</td>
<td>integer</td>
<td>yes</td>
<td></td>
</tr>
<tr>
<td>audience_id</td>
<td>integer</td>
<td>no</td>
<td>ID of related audience</td>
</tr>
<tr>
<td>audience_conditions</td>
<td>Object</td>
<td>no</td>
<td>Conditions of related audience - See <a href="https://dmp.boostcom.no/docs/#conditions">DMP docs</a></td>
</tr>
</tbody></table>

<h3 id="membersgroup-payload-model"><a name="members-group-payload-model"></a> MembersGroup payload model</h3>

<p>Used as an input of creations and updates.</p>

<blockquote>
<p>JSON example:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Red"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Color"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lorem ipsum dolor est"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"system"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"audience_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">351</span><span class="p">,</span><span class="w">
    </span><span class="s2">"audience_conditions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"array"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"members_group_ids"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">6813</span><span class="p">],</span><span class="w">
            </span><span class="s2">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"any"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"condition_group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"member_properties"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>yes</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>yes</td>
<td>Types are not predefined. It&rsquo;s up to API client to define them.</td>
</tr>
<tr>
<td>system</td>
<td>boolean</td>
<td>no</td>
<td>Is the group system group?</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>yes</td>
<td></td>
</tr>
<tr>
<td>audience_id</td>
<td>integer</td>
<td>no</td>
<td>ID of related audience</td>
</tr>
<tr>
<td>audience_conditions</td>
<td>Object</td>
<td>no</td>
<td>Conditions of related audience</td>
</tr>
</tbody></table>

<h2 id="members-groups">Members Groups</h2>

<h3 id="list"><a name="members-groups-list"></a> List</h3>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="s1">'https://api.mpc.placewise.com/v3/infinity-mall/members_groups'</span> <span class="se">\</span>
--header <span class="s1">'x-client-authorization: B7t9U9tsoWsGhrv2ouUoSqpM'</span> <span class="se">\</span>
--header <span class="s1">'x-product-name: default'</span> <span class="se">\</span>
--header <span class="s1">'x-user-agent: cURL Manual Testing'</span>
</code></pre>
<blockquote>
<p>Returns object containing <a href="#members-group-model">members groups</a> and <a href="#pagination-model">pagination_info</a></p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"members_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">List</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">members</span><span class="w"> </span><span class="err">groups</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">See</span><span class="p">:</span><span class="w"> </span><span class="s2">"MemberGroup model"</span><span class="w">
  </span><span class="s2">"pagination_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Pagination</span><span class="w"> </span><span class="err">info</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">see</span><span class="w"> </span><span class="s2">"Pagination info"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>GET</strong> <code class="prettyprint">v3/:loyalty_club_slug/members_groups</code></p>

<p>Returns groups defined within Loyalty Club.</p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>per_page</td>
<td>integer</td>
<td>1000</td>
<td>Number of results to be returned per request (1000 is the maximum)</td>
</tr>
<tr>
<td>page_no</td>
<td>integer</td>
<td>1</td>
<td>Number of results page</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>null</td>
<td>When given, returns only group of given name</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>null</td>
<td>When given, returns only group of given type</td>
</tr>
<tr>
<td>automatic</td>
<td>boolean</td>
<td>null</td>
<td>When true - only automatic groups are returned, when false - only manual</td>
</tr>
<tr>
<td>system</td>
<td>boolean</td>
<td>null</td>
<td>When true - only system groups are returned, when false - only non-system</td>
</tr>
<tr>
<td>search</td>
<td>string</td>
<td>null</td>
<td>When given, returns groups that have name, type or description matching the query string</td>
</tr>
</tbody></table>

<h4 id="response-json-object">Response (JSON object)</h4>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>members_groups</td>
<td>Array<MembersGroup></td>
<td>Array of <a href="#members-group-model">MembersGroup</a></td>
</tr>
<tr>
<td>pagination_info</td>
<td>Object</td>
<td><a href="#pagination-model">Pagination</a> object</td>
</tr>
</tbody></table>

<aside class="notice">
Requires <code>BL:Api:MembersGroups:Index</code> permit
</aside>

<h3 id="get"><a name="members-groups-get"></a> Get</h3>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="s1">'https://api.mpc.placewise.com/v3/infinity-mall/members_groups'</span> <span class="se">\</span>
--header <span class="s1">'x-client-authorization: B7t9U9tsoWsGhrv2ouUoSqpM'</span> <span class="se">\</span>
--header <span class="s1">'x-product-name: default'</span> <span class="se">\</span>
--header <span class="s1">'x-user-agent: cURL Manual Testing'</span>
</code></pre>
<blockquote>
<p>Returns object containing <a href="#members-group-model">members group</a></p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"members_group"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Members</span><span class="w"> </span><span class="err">groups</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">See</span><span class="p">:</span><span class="w"> </span><span class="s2">"MemberGroup model"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>GET</strong> <code class="prettyprint">v3/:loyalty_club_slug/members_groups/:members_group_id</code></p>

<p>Returns group identified by id.</p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>members_group_id</td>
<td>Integer</td>
</tr>
</tbody></table>

<h4 id="response-json-object">Response (JSON object)</h4>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>members_group</td>
<td>MembersGroup</td>
<td><a href="#members-group-model">MembersGroup</a></td>
</tr>
</tbody></table>

<h4 id="error-responses">Error responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">404</code></td>
<td>MembersGroup does not exist</td>
</tr>
</tbody></table>

<aside class="notice">
Requires <code>BL:Api:MembersGroups:Get</code> permit
</aside>

<h3 id="create"><a name="members-groups-create"></a> Create</h3>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="s1">'https://api.mpc.placewise.com/v3/infinity-mall/members_groups'</span> <span class="se">\</span>
--header <span class="s1">'x-client-authorization: B7t9U9tsoWsGhrv2ouUoSqpM'</span> <span class="se">\</span>
--header <span class="s1">'x-product-name: default'</span> <span class="se">\</span>
--header <span class="s1">'x-user-agent: cURL Manual Testing'</span> <span class="se">\</span>
--header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
--data-raw <span class="s1">'{
    "members_group": {
        "name": "My Group 1",
        "type": "Store",
        "description": "Oh long johnson"
    }
}'</span>
</code></pre>
<blockquote>
<p>Returns object containing created <a href="#members-group-model">members group</a></p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"members_group"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Members</span><span class="w"> </span><span class="err">groups</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">See</span><span class="p">:</span><span class="w"> </span><span class="s2">"MemberGroup model"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>POST</strong> <code class="prettyprint">v3/:loyalty_club_slug/members_groups</code></p>

<p>Creates a new group.</p>

<p>When <code class="prettyprint">audience_id</code> or <code class="prettyprint">audience_conditions</code> param is provided, the group is treated 
as <a href="#automatic-members-groups">automatic</a>.</p>

<p>Specifically:</p>

<ul>
<li>when <code class="prettyprint">audience_id</code> is given, the group relates to existing audience</li>
<li>when <code class="prettyprint">audience_conditions</code> is given, a new audience is created with specified conditions </li>
<li>when none of those parameters is given, a new audience is created with conditions that will return only members 
manually assigned to the group by API client</li>
</ul>

<h4 id="post-parameters-json-object">POST Parameters (JSON object)</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>members_group</td>
<td><a href="#members-group-payload-model">MembersGroup Payload</a></td>
</tr>
<tr>
<td>members_group.audience_id</td>
<td>ID of audience that the group should relate to</td>
</tr>
<tr>
<td>members_group.audience_conditions</td>
<td>Conditions of audience that the group should relate to</td>
</tr>
</tbody></table>

<h4 id="response-json-object">Response (JSON object)</h4>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>members_group</td>
<td>MembersGroup</td>
<td>Created <a href="#members-group-model">MembersGroup</a></td>
</tr>
</tbody></table>

<h4 id="error-responses">Error responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">422</code></td>
<td>Invalid parameters - see <a href="#invalid-parameters-errors-model">Invalid parameters errors model</a></td>
</tr>
</tbody></table>

<aside class="notice">
Requires <code>BL:Api:MembersGroups:Create</code> permit
</aside>

<h3 id="update"><a name="members-groups-update"></a> Update</h3>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request PUT <span class="s1">'https://api.mpc.placewise.com/v3/infinity-mall/members_groups/4321'</span> <span class="se">\</span>
--header <span class="s1">'x-client-authorization: B7t9U9tsoWsGhrv2ouUoSqpM'</span> <span class="se">\</span>
--header <span class="s1">'x-product-name: default'</span> <span class="se">\</span>
--header <span class="s1">'x-user-agent: cURL Manual Testing'</span> <span class="se">\</span>
--header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
--data-raw <span class="s1">'{
    "members_group": {
        "name": "My Group 1",
        "type": "Store",
        "description": "Oh long johnson"
    }
}'</span>
</code></pre>
<blockquote>
<p>Returns object containing updated <a href="#members-group-model">members group</a></p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"members_group"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Members</span><span class="w"> </span><span class="err">groups</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">See</span><span class="p">:</span><span class="w"> </span><span class="s2">"MemberGroup model"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>PUT</strong> <code class="prettyprint">v3/:loyalty_club_slug/members_groups/:members_group_id</code></p>

<p>Updates given group.</p>

<h4 id="post-parameters-json-object">POST Parameters (JSON object)</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>members_group</td>
<td><a href="#members-group-payload-model">MembersGroup Payload</a></td>
</tr>
</tbody></table>

<h4 id="response-json-object">Response (JSON object)</h4>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>members_group</td>
<td>MembersGroup</td>
<td>Created <a href="#members-group-model">MembersGroup</a></td>
</tr>
</tbody></table>

<h4 id="error-responses">Error responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">404</code></td>
<td>MembersGroup does not exist</td>
</tr>
<tr>
<td><code class="prettyprint">422</code></td>
<td>Invalid parameters - see <a href="#invalid-parameters-errors-model">Invalid parameters errors model</a></td>
</tr>
</tbody></table>

<aside class="notice">
Requires <code>BL:Api:MembersGroups:Update</code> permit
</aside>

<h3 id="destroy"><a name="members-groups-destroy"></a> Destroy</h3>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="s1">'https://api.mpc.placewise.com/v3/infinity-mall/members_groups/4321'</span> <span class="se">\</span>
--header <span class="s1">'x-client-authorization: B7t9U9tsoWsGhrv2ouUoSqpM'</span> <span class="se">\</span>
--header <span class="s1">'x-product-name: default'</span> <span class="se">\</span>
--header <span class="s1">'x-user-agent: cURL Manual Testing'</span> <span class="se">\</span>
--header <span class="s1">'content-type: application/json'</span>
</code></pre>
<blockquote>
<p>Returns object containing deleted <a href="#members-group-model">members group</a></p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"members_group"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Members</span><span class="w"> </span><span class="err">groups</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">See</span><span class="p">:</span><span class="w"> </span><span class="s2">"MemberGroup model"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>DELETE</strong> <code class="prettyprint">v3/:loyalty_club_slug/members_groups/:members_group_id</code></p>

<p>Deletes given group.</p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>members_group_id</td>
<td>Integer</td>
</tr>
</tbody></table>

<h4 id="response-json-object">Response (JSON object)</h4>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>members_group</td>
<td>MembersGroup</td>
<td>The deleted <a href="#members-group-model">MembersGroup</a></td>
</tr>
</tbody></table>

<h4 id="error-responses">Error responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">404</code></td>
<td>MembersGroup does not exist</td>
</tr>
</tbody></table>

<aside class="notice">
Requires <code>BL:Api:MembersGroups:Destroy</code> permit
</aside>

<h2 id="types">Types</h2>

<h3 id="list-types"><a name="members-groups-types"></a> List types</h3>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="s1">'https://api.mpc.placewise.com/v3/infinity-mall/members_groups/types'</span> <span class="se">\</span>
--header <span class="s1">'x-client-authorization: B7t9U9tsoWsGhrv2ouUoSqpM'</span> <span class="se">\</span>
--header <span class="s1">'x-product-name: default'</span> <span class="se">\</span>
--header <span class="s1">'x-user-agent: cURL Manual Testing'</span>
</code></pre>
<blockquote>
<p>Returns object containing <a href="#members-group-model">members groups</a> and <a href="#pagination-model">pagination_info</a></p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"members_group_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Type"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"system"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">    
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Store"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"system"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">      
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>GET</strong> <code class="prettyprint">v3/:loyalty_club_slug/members_groups/types</code></p>

<p>Returns all group types defined for groups in the Loyalty Club. 
It may (depends on Loyalty Club setup) include special system types.</p>

<h4 id="response-json-object">Response (JSON object)</h4>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>members_group_types</td>
<td>Array</td>
<td></td>
</tr>
<tr>
<td>members_group_types[].name</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>members_group_types[].system</td>
<td>Bool</td>
<td>Is a system type?</td>
</tr>
</tbody></table>

<aside class="notice">
Requires <code>BL:Api:MembersGroups:Types:Index</code> permit
</aside>

<h2 id="members-management">Members Management</h2>

<h3 id="add-member"><a name="members-groups-add-member"></a> Add member</h3>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request POST <span class="s1">'https://api.mpc.placewise.com/v3/infinity-mall/members_groups/512/members/123'</span> <span class="se">\</span>
--header <span class="s1">'x-client-authorization: B7t9U9tsoWsGhrv2ouUoSqpM'</span> <span class="se">\</span>
--header <span class="s1">'x-product-name: default'</span> <span class="se">\</span>
--header <span class="s1">'x-user-agent: cURL Manual Testing'</span> <span class="se">\</span>
--data-raw <span class="s1">''</span>
</code></pre>
<p><strong>POST</strong> <code class="prettyprint">v3/:loyalty_club_slug/members_groups/:members_group_id/members/:member_id</code></p>

<p>Adds member to the group.</p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>members_group_id</td>
<td>Integer</td>
</tr>
<tr>
<td>member_id</td>
<td>Integer</td>
</tr>
</tbody></table>

<h4 id="response-json-object">Response (JSON object)</h4>

<p>Returns empty object.</p>

<h4 id="error-responses">Error responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">404</code></td>
<td>MembersGroup does not exist</td>
</tr>
<tr>
<td><code class="prettyprint">404</code></td>
<td>Member does not exist</td>
</tr>
<tr>
<td><code class="prettyprint">422</code></td>
<td>Invalid parameters - see <a href="#invalid-parameters-errors-model">Invalid parameters errors model</a></td>
</tr>
</tbody></table>

<aside class="notice">
Requires <code>BL:Api:MembersGroups:Members:Add</code> permit
</aside>

<h3 id="remove-member"><a name="members-groups-remove-member"></a> Remove member</h3>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request DELETE <span class="s1">'https://api.mpc.placewise.com/v3/infinity-mall/members_groups/512/members/123'</span> <span class="se">\</span>
--header <span class="s1">'x-client-authorization: B7t9U9tsoWsGhrv2ouUoSqpM'</span> <span class="se">\</span>
--header <span class="s1">'x-product-name: default'</span> <span class="se">\</span>
--header <span class="s1">'x-user-agent: cURL Manual Testing'</span> <span class="se">\</span>
--data-raw <span class="s1">''</span>
</code></pre>
<p><strong>DELETE</strong> <code class="prettyprint">v3/:loyalty_club_slug/members_groups/:members_group_id/members/:member_id</code></p>

<p>Removes member from the group.</p>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>members_group_id</td>
<td>Integer</td>
</tr>
<tr>
<td>member_id</td>
<td>Integer</td>
</tr>
</tbody></table>

<h4 id="response-json-object">Response (JSON object)</h4>

<p>Returns empty object.</p>

<h4 id="error-responses">Error responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">404</code></td>
<td>MembersGroup does not exist</td>
</tr>
<tr>
<td><code class="prettyprint">404</code></td>
<td>Member does not exist</td>
</tr>
<tr>
<td><code class="prettyprint">422</code></td>
<td>Invalid parameters - see <a href="#invalid-parameters-errors-model">Invalid parameters errors model</a></td>
</tr>
</tbody></table>

<aside class="notice">
Requires <code>BL:Api:MembersGroups:Members:Remove</code> permit
</aside>

<h3 id="list-members-of-a-group"><a name="members-groups-list-group-members"></a> List members of a group</h3>

<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="s1">'https://api.mpc.placewise.com/v3/infinity-mall/members_groups/1/members'</span> <span class="se">\</span>
--header <span class="s1">'x-client-authorization: B7t9U9tsoWsGhrv2ouUoSqpM'</span> <span class="se">\</span>
--header <span class="s1">'x-product-name: default'</span> <span class="se">\</span>
--header <span class="s1">'x-user-agent: cURL Manual Testing'</span> <span class="se">\</span>
--data-raw <span class="s1">''</span>
</code></pre>
<blockquote>
<p>Returns object containing <a href="#member-model">members</a> and <a href="#pagination-model">pagination_info</a></p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"members"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">List</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">members</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">See</span><span class="p">:</span><span class="w"> </span><span class="s2">"Member model"</span><span class="w">
  </span><span class="s2">"pagination_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Pagination</span><span class="w"> </span><span class="err">info</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">see</span><span class="w"> </span><span class="s2">"Pagination info"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p><strong>GET</strong> <code class="prettyprint">v3/:loyalty_club_slug/members_groups/:members_group_id/members</code></p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>per_page</td>
<td>integer</td>
<td>1000</td>
<td>Number of results to be returned per request (1000 is the maximum)</td>
</tr>
<tr>
<td>page_no</td>
<td>integer</td>
<td>1</td>
<td>Number of results page</td>
</tr>
</tbody></table>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>members_group_id</td>
<td>MembersGroup ID</td>
<td>integer</td>
</tr>
</tbody></table>

<h4 id="response-json-object">Response (JSON object)</h4>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>members</td>
<td>Array<Member></td>
<td>Array of <a href="#member-model">Members</a></td>
</tr>
<tr>
<td>pagination_info</td>
<td>Object</td>
<td><a href="#pagination-model">Pagination</a> object</td>
</tr>
</tbody></table>

<aside class="notice">
Requires <code>BL:Api:MembersGroups:Members:List</code> permit
</aside>

<h3 id="list-groups-of-a-member"><a name="members-groups-list-member-groups"></a> List groups of a member</h3>

<blockquote>
<p>Example: </p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="s1">'https://api.mpc.placewise.com/v3/infinity-mall/members/549123/groups'</span> <span class="se">\</span>
--header <span class="s1">'x-client-authorization: B7t9U9tsoWsGhrv2ouUoSqpM'</span> <span class="se">\</span>
--header <span class="s1">'x-product-name: default'</span> <span class="se">\</span>
--header <span class="s1">'x-user-agent: cURL Manual Testing'</span>
</code></pre>
<blockquote>
<p>Returns object containing <a href="#members-group-model">members groups</a> and <a href="#pagination-model">pagination_info</a></p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"members_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">List</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">members</span><span class="w"> </span><span class="err">groups</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">See</span><span class="p">:</span><span class="w"> </span><span class="s2">"MemberGroup model"</span><span class="w">
  </span><span class="s2">"pagination_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Pagination</span><span class="w"> </span><span class="err">info</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">see</span><span class="w"> </span><span class="s2">"Pagination info"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>GET</strong> <code class="prettyprint">v3/:loyalty_club_slug/members/:member_id/groups</code></p>

<p><strong>GET</strong> <code class="prettyprint">v3/:loyalty_club_slug/members/by_email/:member_email/groups</code></p>

<p><strong>GET</strong> <code class="prettyprint">v3/:loyalty_club_slug/members/by_msisdn/:member_msisdn/groups</code></p>

<p>Returns groups of given member.</p>

<h4 id="query-parameters">Query Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>per_page</td>
<td>integer</td>
<td>1000</td>
<td>Number of results to be returned per request (1000 is the maximum)</td>
</tr>
<tr>
<td>page_no</td>
<td>integer</td>
<td>1</td>
<td>Number of results page</td>
</tr>
</tbody></table>

<h4 id="url-parameters">URL Parameters</h4>

<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>member_id</td>
<td>Member&rsquo;s ID</td>
<td>integer</td>
</tr>
<tr>
<td>member_msisdn</td>
<td>Member&rsquo;s msisdn</td>
<td>string (format as defined <a href="#msisdn-param">here</a> - example: <code class="prettyprint">4740485124</code>)</td>
</tr>
<tr>
<td>member_email</td>
<td>Member&rsquo;s email</td>
<td>string (email)</td>
</tr>
</tbody></table>

<h4 id="response-json-object">Response (JSON object)</h4>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>members_groups</td>
<td>Array<MembersGroup></td>
<td>Array of <a href="#members-group-model">MembersGroup</a></td>
</tr>
<tr>
<td>pagination_info</td>
<td>Object</td>
<td><a href="#pagination-model">Pagination</a> object</td>
</tr>
</tbody></table>

<h4 id="error-responses">Error responses</h4>

<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">404</code></td>
<td>Member does not exist</td>
</tr>
</tbody></table>

<aside class="notice">
Requires <code>BL:Api:Members:Groups</code> permit
</aside>
