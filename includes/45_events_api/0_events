<h1 id='events-api-1'><span id=events-api></span>Events API</h1>
<aside class="warning">
This API is in development. Therefore, it may not be ready for use and is a subject to change at any time.
</aside>
<h2 id='events-1'><span id=events></span>Events</h2><h3 id='a-name-events-list-a-list-1'><span id=a-name-events-list-a-list></span><a name="events-list"></a> List</h3>
<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
<span class="s2">"https://api.mpc.placewise.com/v3/:loyalty_club_slug/events"</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -H <span class="s1">'x-client-authorization: B7t9U9tsoWsGhrv2ouUoSqpM'</span> <span class="se">\</span>
    -H <span class="s1">'x-product-name: default'</span> <span class="se">\</span>
    -H <span class="s1">'x-user-agent: CURL manual test'</span>
</code></pre>
<blockquote>
<p>When successful (200), returns an array of events objects structured like below:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Event name"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-02 12:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-02 18:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"singup_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01 12:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Place"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"registered_members"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"spots"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"checkin_members"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="s2">"checkin_time_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p><strong>GET</strong> <code>v3/:loyalty_club_slug/events</code></p>

<p>List of events</p>

<aside class="notice">
Requires <code>Events:Api:Events:Get</code> permit
</aside>
<h3 id='a-name-event-get-a-get-1'><span id=a-name-event-get-a-get></span><a name="event-get"></a> Get</h3>
<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
<span class="s2">"https://api.mpc.placewise.com/v3/:loyalty_club_slug/events/:event_id"</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -H <span class="s1">'x-client-authorization: B7t9U9tsoWsGhrv2ouUoSqpM'</span> <span class="se">\</span>
    -H <span class="s1">'x-product-name: default'</span> <span class="se">\</span>
    -H <span class="s1">'x-user-agent: CURL manual test'</span>
</code></pre>
<blockquote>
<p>When successful (200), returns an event object structured like below. Some values may be omitted if were not provided:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Event name"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-02 12:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-02 18:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"singup_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01 12:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"place"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Place"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"registered_members"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"spots"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"checkin_members"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="s2">"checkin_time_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>GET</strong> <code>v3/:loyalty_club_slug/events/:event_id</code></p>

<p>Single event information</p>

<aside class="notice">
Requires <code>Events:Api:Events:Get</code> permit
</aside>
<h3 id='a-name-events-validate-member-a-member-validation-1'><span id=a-name-events-validate-member-a-member-validation></span><a name="events-validate-member"></a> Member validation</h3>
<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
<span class="s2">"https://api.mpc.placewise.com/v3/:loyalty_club_slug/events/validation"</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -H <span class="s1">'x-client-authorization: B7t9U9tsoWsGhrv2ouUoSqpM'</span> <span class="se">\</span>
    -H <span class="s1">'x-product-name: default'</span> <span class="se">\</span>
    -H <span class="s1">'x-user-agent: CURL manual test'</span>
    -d <span class="se">\</span>
    <span class="s1">'{
        "member_id": 12345,
        "event_id": 1
    }
</span></code></pre>
<blockquote>
<p>When successful (200), returns an object structured as below</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"member_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="s2">"event_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>When <code>event_id</code> is invalid (422), returns:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Event not found"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>POST</strong> <code>v3/:loyalty_club_slug/events/validate</code></p>

<p>Check if member is registered to the event, should be uses only for closed events</p>

<aside class="notice">
Requires <code>Events:Api:Validation:Create</code> permit
</aside>
<h4 id='parameters-1'><span id=parameters></span>Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>event_id</td>
<td>Event id</td>
<td>integer</td>
</tr>
<tr>
<td>member_id</td>
<td>Member id</td>
<td>integer</td>
</tr>
</tbody></table>
<h4 id='error-responses-1'><span id=error-responses></span>Error responses</h4>
<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>422</code></td>
<td>Invalid parameters (see example on the right)</td>
</tr>
</tbody></table>
<h2 id='checkins-1'><span id=checkins></span>Checkins</h2><h3 id='a-name-events-checkin-member-a-create-1'><span id=a-name-events-checkin-member-a-create></span><a name="events-checkin-member"></a> Create</h3>
<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
<span class="s2">"https://api.mpc.placewise.com/v3/:loyalty_club_slug/events/checkin"</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -H <span class="s1">'x-client-authorization: B7t9U9tsoWsGhrv2ouUoSqpM'</span> <span class="se">\</span>
    -H <span class="s1">'x-product-name: default'</span> <span class="se">\</span>
    -H <span class="s1">'x-user-agent: CURL manual test'</span>
    -d <span class="se">\</span>
    <span class="s1">'{
        "member_id": 12345,
        "event_id": 1,
        "error": null
    }
</span></code></pre>
<blockquote>
<p>When successful (200), returns an object structured as below:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"member_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="s2">"event_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkin_members"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkin_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-02T02:02:02+0000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkin_time_alert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>When <code>event_id</code> is invalid (422), returns:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Event not found"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Checkin/scan member to the event</p>

<aside class="notice">
Requires <code>Events:Api:Checkin:Create</code> permit
</aside> 
<h4 id='parameters-1'><span id=parameters></span>Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Type</th>
<th>Comments</th>
</tr>
</thead><tbody>
<tr>
<td>event_id</td>
<td>Event id</td>
<td>integer</td>
<td></td>
</tr>
<tr>
<td>member_id</td>
<td>Member id</td>
<td>integer</td>
<td></td>
</tr>
<tr>
<td>error</td>
<td>Error code</td>
<td>integer/null</td>
<td>1 - not a member, 2 - member not registered to the event, 3 - member scanned in the time limit</td>
</tr>
</tbody></table>
<h4 id='error-responses-1'><span id=error-responses></span>Error responses</h4>
<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>422</code></td>
<td>Invalid parameters (see example on the right)</td>
</tr>
</tbody></table>

<p><strong>GET</strong> <code>v3/:loyalty_club_slug/events/checkin</code></p>
<h3 id='a-name-events-checkin-list-a-list-1'><span id=a-name-events-checkin-list-a-list></span><a name="events-checkin-list"></a> List</h3>
<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
<span class="s2">"https://api.mpc.placewise.com/v3/:loyalty_club_slug/events/checkin/:event_id"</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -H <span class="s1">'x-client-authorization: B7t9U9tsoWsGhrv2ouUoSqpM'</span> <span class="se">\</span>
    -H <span class="s1">'x-product-name: default'</span> <span class="se">\</span>
    -H <span class="s1">'x-user-agent: CURL manual test'</span>
</code></pre>
<blockquote>
<p>When successful (200), When successful (200), returns an array of members objects structured as below.</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"member_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="s2">"checkin_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-02T02:02:02+0000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p><strong>GET</strong> <code>v3/:loyalty_club_slug/events/checkin/:event_id</code></p>

<p>List scanned/checked in events</p>

<aside class="notice">
Requires <code>Events:Api:Checkin:Get</code> permit
</aside>
<h2 id='invitations-1'><span id=invitations></span>Invitations</h2><h3 id='a-name-events-invitation-a-send-invitation-1'><span id=a-name-events-invitation-a-send-invitation></span><a name="events-invitation"></a> Send invitation</h3>
<blockquote>
<p>Example:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
<span class="s2">"https://api.mpc.placewise.com/v3/:loyalty_club_slug/events/invitation"</span> <span class="se">\</span>
    -H <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    -H <span class="s1">'x-client-authorization: B7t9U9tsoWsGhrv2ouUoSqpM'</span> <span class="se">\</span>
    -H <span class="s1">'x-product-name: default'</span> <span class="se">\</span>
    -H <span class="s1">'x-user-agent: CURL manual test'</span>
    -d <span class="se">\</span>
    <span class="s1">'{
        "email": "email@example.com",
        "event_id": 1
    }
</span></code></pre>
<blockquote>
<p>When successful (200), returns an object structured like below:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>When <code>event_id</code> is invalid (422), returns:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Event not found"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>GET</strong> <code>v3/:loyalty_club_slug/events/invitation</code></p>

<p>Send email invitation to loyalty club</p>

<aside class="notice">
Requires <code>Events:Api:Invitation:Create</code> permit
</aside>
<h4 id='payload-parameters-1'><span id=payload-parameters></span>Payload Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>event_id</td>
<td>Event id</td>
<td>integer</td>
</tr>
<tr>
<td>email</td>
<td>Non-member email</td>
<td>string</td>
</tr>
</tbody></table>
<h4 id='error-responses-1'><span id=error-responses></span>Error responses</h4>
<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>422</code></td>
<td>Invalid parameters (see example on the right)</td>
</tr>
</tbody></table>
